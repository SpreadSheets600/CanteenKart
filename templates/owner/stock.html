{% extends 'base.html' %} {% block title %}Stock - CanteenKart{% endblock %} {% block content %}
<h1 class="text-2xl font-semibold mb-4">Stock & Inventory</h1>
<form method="post" action="{{ url_for('owners.stock_auto_disable') }}" class="mb-3">
	<button type="submit" class="btn btn-sm">Auto-disable Out-of-Stock</button>
	<a class="btn btn-ghost btn-sm" href="{{ url_for('menu.owner_menu') }}">Manage Menu</a>
	<a class="btn btn-ghost btn-sm" href="{{ url_for('owners.owner_dashboard') }}">Dashboard</a>
</form>

<div class="card bg-base-200 shadow">
	<div class="card-body">
		<div class="overflow-x-auto">
			<table class="table">
				<thead>
					<tr>
						<th>Name</th>
						<th>Qty</th>
						<th>Avail</th>
						<th>Update</th>
					</tr>
				</thead>
				<tbody>
					{% for it in items %}
					<tr>
						<td>{{ it.name }}</td>
						<td>{{ it.stock_qty }}</td>
						<td>{{ 'Yes' if it.is_available else 'No' }}</td>
						<td>
							<form method="post" action="{{ url_for('owners.stock_update', item_id=it.item_id) }}" class="flex items-center gap-2">
								<input type="number" name="stock_qty" value="{{ it.stock_qty }}" min="0" class="input input-bordered input-sm w-24" />
								<button type="submit" class="btn btn-sm">Save</button>
							</form>
						</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
</div>
{% endblock %}
